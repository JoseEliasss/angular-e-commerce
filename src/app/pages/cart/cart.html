<app-header></app-header>

<div class="cart-page">
  <div class="cart-table">
    <ul class="cart-header">
      <li>Product</li>
      <li>Price</li>
      <li>Quantity</li>
      <li>Subtotal</li>
    </ul>

    <div *ngIf="cartItems().length === 0" class="empty">
      <p>Your cart is empty.</p>
    </div>

    <div *ngIf="cartItems().length > 0">
      <div *ngFor="let item of cartItems(); let i = index" class="cart-row">
        <ul>
          <li class="product">
            <button class="remove" (click)="removeItem(i)">‚ùå</button>
            <img [src]="item.image" alt="{{ item.title }}" />
            <span>{{ item.title }}</span>
          </li>
          <li class="price">${{ item.price }}</li>
          <li class="qty">
            <button (click)="decreaseItemQty(i)">-</button>
            <b>{{ item.quantity }}</b>
            <button (click)="increaseItemQty(i)">+</button>
          </li>
          <li class="subtotal">
            ${{ (item.price * item.quantity).toFixed(2) }}
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="cart-actions">
    <div class="left">
      <button class="return" (click)="goToHomePage()">Return To Shop</button>
    </div>
    <div class="right">
      <button class="update" (click)="clearCart()">Clear Cart</button>
    </div>
  </div>

  <div class="cart-bottom">
    <div class="summary">
      <h3>Cart Total</h3>
      <div class="summary-line">
        <span>Subtotal:</span>
        <span>${{ cartTotal().toFixed(2) }}</span>
      </div>
      <div class="summary-line">
        <span>Shipping:</span>
        <span>Free</span>
      </div>
      <div class="summary-line total">
        <span>Total:</span>
        <span>${{ cartTotal().toFixed(2) }}</span>
      </div>
      <button class="checkout">Proceed to checkout</button>
    </div>
  </div>
</div>

<app-footer></app-footer>
<!-- comment -->
